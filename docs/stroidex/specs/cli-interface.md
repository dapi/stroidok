# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: Unified CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## –û–±–∑–æ—Ä

CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ–¥–∏–Ω—É—é –∫–æ–º–∞–Ω–¥—É –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Stroidex –≤ foreground —Ä–µ–∂–∏–º–µ. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—É—é –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞
- **ID:** CLI-001
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –µ–¥–∏–Ω—É—é –∫–æ–º–∞–Ω–¥—É:
  - `stroidex [path]` - –∑–∞–ø—É—Å–∫ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

#### 2. –û–ø—Ü–∏–∏ –∫–æ–º–∞–Ω–¥—ã
- **ID:** CLI-002
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –æ–ø—Ü–∏–∏:
  - `--config` - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  - `--once` - –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∏ –≤—ã—Ö–æ–¥
  - `--watch-interval` - –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
  - `--patterns` - –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - `--workers` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤
  - `--batch-size` - —Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
  - `--verbose` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥
  - `--dry-run` - –ø–æ–∫–∞–∑ –ø–ª–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π

#### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **ID:** CLI-003
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å:
  - Progress bars –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ñ–∞–π–ª–æ–≤
  - Real-time —Å—Ç–∞—Ç—É—Å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
  - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–∏–≥–Ω–∞–ª–æ–≤ (SIGINT, SIGTERM)

#### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **ID:** CLI-004
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞:
  - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
  - –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
  - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø—Ä–∏ verbose —Ä–µ–∂–∏–º–µ
  - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –ø–æ —Å–∏–≥–Ω–∞–ª–∞–º

### –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### Usability
- –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ CLI: < 100ms
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode –≤ –≤—ã–≤–æ–¥–µ
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–º–µ—Ä —Ç–µ—Ä–º–∏–Ω–∞–ª–∞

#### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Linux, macOS, Windows
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –†–∞–±–æ—Ç–∞ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (single binary)

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ CLI

```go
type CLI struct {
    rootCmd *cobra.Command
    config  *Config
    engine  *CoreEngine
    logger  *zap.Logger
    signals chan os.Signal
}

type CommandConfig struct {
    ConfigPath     string
    Once           bool
    Verbose        bool
    DryRun         bool
    WatchInterval  time.Duration
    Patterns       []string
    Workers        int
    BatchSize      int
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∞–Ω–¥—ã
var rootCmd = &cobra.Command{
    Use:   "stroidex [path]",
    Short: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä",
    Long:  "Stroidex - —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –≤ foreground —Ä–µ–∂–∏–º–µ",
    Args:  cobra.MaximumNArgs(1),
    RunE:  runStroidex,
    Version: version.Version,
}
```

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã

```go
func runStroidex(cmd *cobra.Command, args []string) error {
    config := getConfigFromFlags(cmd)

    var targetPath string
    if len(args) > 0 {
        targetPath = args[0]
    } else {
        // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É—Ç–∏ –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
        targetPath = config.Processing.Directories[0]
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ dry-run —Ä–µ–∂–∏–º–∞
    if config.Runtime.DryRun {
        return showDryRunPlan(targetPath, config)
    }

    engine, err := NewCoreEngine(config)
    if err != nil {
        return fmt.Errorf("failed to create engine: %w", err)
    }

    // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤ –¥–ª—è graceful shutdown
    ctx, cancel := signal.NotifyContext(context.Background(),
        syscall.SIGINT, syscall.SIGTERM)
    defer cancel()

    // –ó–∞–ø—É—Å–∫ –≤ foreground —Ä–µ–∂–∏–º–µ
    return engine.StartForeground(ctx, targetPath)
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

```go
func (e *CoreEngine) StartForeground(ctx context.Context, path string) error {
    // Initial indexing
    if err := e.indexDirectory(ctx, path); err != nil {
        return fmt.Errorf("initial indexing failed: %w", err)
    }

    // Start monitoring
    watcher, err := fsnotify.NewWatcher()
    if err != nil {
        return fmt.Errorf("failed to create watcher: %w", err)
    }
    defer watcher.Close()

    // Start monitoring goroutine
    go e.monitorLoop(ctx, watcher, path)

    // Main loop - –≤—ã–≤–æ–¥ —Å—Ç–∞—Ç—É—Å–∞
    ticker := time.NewTicker(e.config.Processing.WatchInterval)
    defer ticker.Stop()

    for {
        select {
        case <-ctx.Done():
            e.logger.Info("Received shutdown signal, stopping gracefully...")
            return e.shutdown()
        case <-ticker.C:
            e.showRealTimeStatus()
        }
    }
}
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞

```go
type OutputFormatter interface {
    FormatStatus(status *EngineStatus) (string, error)
    FormatProgress(progress *ProgressInfo) (string, error)
    FormatFileProcessed(file *ProcessedFile) (string, error)
}

type RealTimeFormatter struct {
    writer io.Writer
    colors bool
}

func (f *RealTimeFormatter) FormatFileProcessed(file *ProcessedFile) (string, error) {
    status := "‚úì"
    if file.Error != "" {
        status = "‚úó"
    }

    return fmt.Sprintf("%s %s (%s) - %s",
        status, file.Path,
        humanize.Bytes(uint64(file.Size)),
        file.Status), nil
}

func (f *RealTimeFormatter) FormatStatus(status *EngineStatus) (string, error) {
    return fmt.Sprintf("\rüìÅ Indexed: %d | üîÑ Processing: %d | ‚ö†Ô∏è  Errors: %d | üìä Queue: %d",
        status.FilesIndexed,
        status.FilesProcessing,
        status.FilesError,
        status.QueueSize), nil
}
```

### Progress bars

```go
type ProgressBar struct {
    bar     *progressbar.ProgressBar
    logger  *zap.Logger
    stats   *RealTimeStats
}

func NewProgressBar() *ProgressBar {
    return &ProgressBar{
        bar: progressbar.NewOptions64(
            -1, // Unknown total for continuous mode
            progressbar.OptionSetDescription("–ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤"),
            progressbar.OptionSetWriter(os.Stderr),
            progressbar.OptionShowCount(),
            progressbar.OptionShowIts(),
            progressbar.OptionThrottle(100*time.Millisecond),
        ),
        stats: &RealTimeStats{},
    }
}

func (p *ProgressBar) UpdateFile(file *ProcessedFile) {
    p.stats.IncrementProcessed()
    p.bar.Describe(fmt.Sprintf("–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ: %d | –¢–µ–∫—É—â–∏–π: %s",
        p.stats.TotalProcessed, filepath.Base(file.Path)))
}
```

## API

### –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º - –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
stroidex [path] [flags]

# –ü—Ä–∏–º–µ—Ä—ã:
stroidex ./documents
stroidex . --verbose
stroidex ./docs --config ./prod.yaml
```

### –û–ø—Ü–∏–∏

```bash
--config string        –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (default "config.yaml")
--once                 –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω—É—é –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –∏ –≤—ã–π—Ç–∏
--watch-interval       –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (default 30s)
--patterns strings     –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–∞–π–ª–æ–≤ (default "*.pdf,*.docx,*.xlsx,*.txt")
--workers int          –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤ (default 4)
--batch-size int       –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ (default 10)
--verbose              –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤
--dry-run              –ü–æ–∫–∞–∑–∞—Ç—å –ø–ª–∞–Ω –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ –¥–µ–π—Å—Ç–≤–∏–π
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∂–∏–º - –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
stroidex ./documents

# –û–¥–Ω–æ–∫—Ä–∞—Ç–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è
stroidex ./documents --once

# –î–µ—Ç–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
stroidex ./documents --verbose --watch-interval 10s --workers 8

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
stroidex ./documents --dry-run

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
stroidex ./documents --config ./prod.yaml

# –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —Ñ–∞–π–ª–æ–≤
stroidex ./documents --patterns "*.pdf,*.docx"
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ foreground —Ä–µ–∂–∏–º–µ

1. **–ó–∞–ø—É—Å–∫:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç—É–µ—Ç –∏ —Å—Ä–∞–∑—É –Ω–∞—á–∏–Ω–∞–µ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é
2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ü–æ—Å–ª–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
3. **–°—Ç–∞—Ç—É—Å:** –í —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
4. **–û—Å—Ç–∞–Ω–æ–≤–∫–∞:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ SIGINT/SIGTERM

### –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üöÄ Starting Stroidex v1.0.0
üìÇ Target directory: ./documents
üîß Configuration: config.yaml
‚ö° Workers: 4 | Batch size: 10 | Interval: 30s

üìä Scanning directory structure...
üìÅ Found 156 files to process

‚úì ./documents/spec.pdf (2.3 MB) - Indexed
‚úì ./docs/contract.docx (1.1 MB) - Indexed
‚úó ./docs/corrupted.xlsx (0 bytes) - Error: invalid format
‚úì ./images/plan.png (5.2 MB) - Skipped: unsupported format

üìÅ Indexed: 124 | üîÑ Processing: 2 | ‚ö†Ô∏è  Errors: 1 | üìä Queue: 0

üîÑ Monitoring for changes... (Press Ctrl+C to stop)
‚úì New file detected: ./docs/new_spec.pdf - Indexed
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```yaml
# config/stroidex.yaml
database:
  host: localhost
  port: 5432
  name: stroidok
  user: stroidex
  password: ${DB_PASSWORD}

llm:
  provider: anthropic
  api_key: ${ANTHROPIC_API_KEY}
  model: claude-3-5-sonnet
  embedding_model: claude-3-5-sonnet

# –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
processing:
  directories:
    - /path/to/documents
  file_patterns:
    - "*.pdf"
    - "*.docx"
    - "*.xlsx"
    - "*.txt"
  watch_interval: 30s
  max_file_size: 100MB
  batch_size: 10
  workers: 4

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ foreground —Ä–µ–∂–∏–º–∞
runtime:
  verbose: false
  dry_run: false
  once: false

# CLI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
cli:
  colors_enabled: true
  progress_bars: true
  real_time_status: true
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø—Ü–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–≤–æ–¥–∞
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

### Integration —Ç–µ—Å—Ç—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ø–æ SIGINT/SIGTERM

### E2E —Ç–µ—Å—Ç—ã
```bash
# –¢–µ—Å—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
stroidex ./test-docs --dry-run
stroidex ./test-docs --once
stroidex ./test-docs --verbose --once
```

## –ú–µ—Ç—Ä–∏–∫–∏

### –ö–ª—é—á–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ (—Ñ–∞–π–ª—ã/—Å–µ–∫)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –†–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```go
// –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
log.Info("Starting Stroidex",
    "version", version.Version,
    "target", targetPath,
    "config", configPath)

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞
log.Debug("Processing file",
    "path", filePath,
    "size", fileSize,
    "duration", processingTime)

// –û—à–∏–±–∫–∏
log.Error("Failed to process file",
    "path", filePath,
    "error", err)
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `github.com/spf13/cobra` - CLI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `github.com/spf13/viper` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- `github.com/spf13/pflag` - –ø–∞—Ä—Å–∏–Ω–≥ —Ñ–ª–∞–≥–æ–≤
- `github.com/schollz/progressbar/v3` - progress bars
- `github.com/fatih/color` - —Ü–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥
- `go.uber.org/zap` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- `github.com/fsnotify/fsnotify` - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã